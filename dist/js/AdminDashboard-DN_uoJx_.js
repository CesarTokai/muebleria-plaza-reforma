var le=Object.defineProperty,re=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var W=(u,v,r)=>v in u?le(u,v,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[v]=r,q=(u,v)=>{for(var r in v||(v={}))ue.call(v,r)&&W(u,r,v[r]);if(R)for(var r of R(v))de.call(v,r)&&W(u,r,v[r]);return u},J=(u,v)=>re(u,ne(v));var D=(u,v,r)=>new Promise((E,g)=>{var t=y=>{try{S(r.next(y))}catch(_){g(_)}},n=y=>{try{S(r.throw(y))}catch(_){g(_)}},S=y=>y.done?E(y.value):Promise.resolve(y.value).then(t,n);S((r=r.apply(u,v)).next())});import{s as k,A as X,c as Y,o as d,w as Q,g as m,m as T,h as e,G as B,i as f,p as L,t as h,J as x,L as F,M as ce,F as U,j,T as Z,P as H,v as me,a as K,u as ge,n as be}from"./vendor-vue-Bh9miRvp.js";import{a as $}from"./AxiosConfig-Dd5pkUAe.js";import{u as pe,c as ve,g as fe,d as ye}from"./categories-CjLhZxKX.js";import{u as he,c as Ce}from"./furniture-DrcXuzuN.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $e={class:"modal-form"},ke={class:"form-header"},_e={class:"form-body"},Ee={class:"form-grid"},Se={class:"form-column"},we={class:"form-group"},Me={class:"form-group"},xe={class:"form-group"},De={class:"category-select-controls"},Fe=["value"],Ae={class:"form-row form-row-compact"},Ie={class:"form-group form-group-small"},Te={class:"form-group form-group-small"},Ne={class:"form-column sidebar"},Ve={class:"form-row"},Oe={class:"form-group"},Be={class:"form-group"},Ue={class:"form-group"},je={class:"form-group"},qe={class:"form-section-images"},ze={class:"images-count"},Le={class:"image-uploader"},Ge={key:0,class:"image-list"},Pe={class:"image-preview-box"},Re=["src"],We={class:"image-actions"},Je=["onClick"],He=["onClick"],Ke={key:1,class:"error-messages"},Xe={class:"form-footer"},Ye={type:"submit",class:"btn-primary"},O=5,z=5,Qe={__name:"FurnitureFormModal",props:{isOpen:{type:Boolean,default:!1},isEditing:{type:Boolean,default:!1},furnitureData:{type:Object,default:()=>({})},categories:{type:Array,default:()=>[]}},emits:["close","success","open-category-form"],setup(u,{emit:v}){const r=u,E=v,g=k(!1),t=k({id:null,name:"",description:"",price:0,category_id:null,images:[],stock:0,brand:"",color:"",material:"",dimensions:""}),n=k([]);X(()=>r.isOpen,c=>{if(c){if(r.isEditing&&r.furnitureData){const a=q({},r.furnitureData);a.category&&typeof a.category=="object"&&(a.category_id=a.category.id);let o=[];a.images&&Array.isArray(a.images)&&a.images.length>0?o=a.images.map(p=>typeof p=="string"?p:p.img_base64||p.url||p).filter(Boolean):a.img_base64&&(o=[a.img_base64]),a.images=o,t.value=a}else S();n.value=[]}});function S(){t.value={id:null,name:"",description:"",price:0,category_id:null,images:[],stock:0,brand:"",color:"",material:"",dimensions:""}}function y(){E("close")}function _(){return n.value=[],!t.value.name||!t.value.name.trim()?(n.value.push("El nombre del mueble es obligatorio"),!1):!t.value.price||t.value.price<=0?(n.value.push("El precio debe ser mayor a 0"),!1):t.value.category_id?t.value.stock<0?(n.value.push("El stock no puede ser negativo"),!1):!0:(n.value.push("La categoría es obligatoria"),!1)}function A(){return D(this,null,function*(){if(!_()){$.ToastWarning("Validación",n.value[0]);return}if(g.value)return;g.value=!0;const c={name:t.value.name.trim(),description:t.value.description||"",price:parseFloat(t.value.price),category_id:parseInt(t.value.category_id),images:t.value.images||[],stock:parseInt(t.value.stock)||0,brand:t.value.brand||"",color:t.value.color||"",material:t.value.material||"",dimensions:t.value.dimensions||""};try{r.isEditing&&t.value.id?(yield he(t.value.id,c),$.ToastSuccess("¡Éxito!","Mueble actualizado correctamente")):(yield Ce(c),$.ToastSuccess("¡Éxito!","Mueble creado correctamente")),E("success"),y()}catch(a){if(console.error("Error al guardar mueble:",a),a.response&&a.response.data){const o=a.response.data.detail||JSON.stringify(a.response.data);$.ToastError("Error",o)}else $.ToastError("Error","No se pudo guardar el mueble")}finally{g.value=!1}})}function w(c){const a=c.target.files;if(a.length){if(t.value.images.length+a.length>O){n.value=[`Solo se permiten hasta ${O} imágenes. Actualmente tienes ${t.value.images.length}.`];return}n.value=[],Array.from(a).forEach(o=>{if(!o.type.startsWith("image/")){n.value.push(`${o.name} no es una imagen válida.`);return}if(o.size>z*1024*1024){n.value.push(`${o.name} supera el tamaño máximo de ${z}MB.`);return}const p=new FileReader;p.onload=I=>{t.value.images.push(I.target.result)},p.onerror=()=>{n.value.push(`Error al leer ${o.name}.`)},p.readAsDataURL(o)}),setTimeout(()=>{c.target&&(c.target.value="")},0)}}function b(c){t.value.images.splice(c,1),n.value=[]}function C(c){if(c===0)return;const[a]=t.value.images.splice(c,1);t.value.images.unshift(a)}function N(c){c.preventDefault(),c.stopPropagation()}function V(c){c.preventDefault(),c.stopPropagation();const a=c.dataTransfer.files;if(a.length){if(t.value.images.length+a.length>O){n.value=[`Solo se permiten hasta ${O} imágenes. Actualmente tienes ${t.value.images.length}.`];return}n.value=[],Array.from(a).forEach(o=>{if(!o.type.startsWith("image/")){n.value.push(`${o.name} no es una imagen válida.`);return}if(o.size>z*1024*1024){n.value.push(`${o.name} supera el tamaño máximo de ${z}MB.`);return}const p=new FileReader;p.onload=I=>{t.value.images.push(I.target.result)},p.onerror=()=>{n.value.push(`Error al leer ${o.name}.`)},p.readAsDataURL(o)})}}return(c,a)=>(d(),Y(Z,{name:"modal"},{default:Q(()=>[u.isOpen?(d(),m("div",{key:0,class:"modal-overlay",onClick:B(y,["self"])},[e("div",$e,[e("form",{onSubmit:B(A,["prevent"])},[e("div",ke,[e("h2",null,[e("i",{class:L(u.isEditing?"bi bi-pencil-square":"bi bi-plus-square")},null,2),f(" "+h(u.isEditing?"Editar Mueble":"Nuevo Mueble"),1)]),e("button",{type:"button",onClick:y,class:"close-btn"},[...a[11]||(a[11]=[e("i",{class:"bi bi-x-lg"},null,-1)])])]),e("div",_e,[e("div",Ee,[e("div",Se,[e("div",we,[a[12]||(a[12]=e("label",{for:"name"},[e("i",{class:"bi bi-card-heading"}),f(" Nombre del mueble * ")],-1)),x(e("input",{id:"name","onUpdate:modelValue":a[0]||(a[0]=o=>t.value.name=o),placeholder:"Ej: Silla ergonómica",required:""},null,512),[[F,t.value.name]])]),e("div",Me,[a[13]||(a[13]=e("label",{for:"price"},[e("i",{class:"bi bi-currency-dollar"}),f(" Precio * ")],-1)),x(e("input",{id:"price","onUpdate:modelValue":a[1]||(a[1]=o=>t.value.price=o),type:"number",placeholder:"1500",required:""},null,512),[[F,t.value.price,void 0,{number:!0}]])]),e("div",xe,[a[16]||(a[16]=e("label",{for:"category"},[e("i",{class:"bi bi-tags"}),f(" Categoría * ")],-1)),e("div",De,[x(e("select",{id:"category","onUpdate:modelValue":a[2]||(a[2]=o=>t.value.category_id=o),required:""},[a[14]||(a[14]=e("option",{value:null,disabled:""},"Selecciona una categoría",-1)),(d(!0),m(U,null,j(u.categories,o=>(d(),m("option",{key:o.id,value:o.id},h(o.name),9,Fe))),128))],512),[[ce,t.value.category_id]]),e("button",{type:"button",class:"btn-icon small",title:"Crear categoría",onClick:a[3]||(a[3]=o=>c.$emit("open-category-form"))},[...a[15]||(a[15]=[e("i",{class:"bi bi-plus-lg"},null,-1)])])])]),e("div",Ae,[e("div",Ie,[a[17]||(a[17]=e("label",{for:"stock"},[e("i",{class:"bi bi-box"}),f(" Stock ")],-1)),x(e("input",{id:"stock","onUpdate:modelValue":a[4]||(a[4]=o=>t.value.stock=o),type:"number",placeholder:"20"},null,512),[[F,t.value.stock,void 0,{number:!0}]])]),e("div",Te,[a[18]||(a[18]=e("label",{for:"brand"},[e("i",{class:"bi bi-award"}),f(" Marca ")],-1)),x(e("input",{id:"brand","onUpdate:modelValue":a[5]||(a[5]=o=>t.value.brand=o),placeholder:"IKEA"},null,512),[[F,t.value.brand]])])])]),e("div",Ne,[e("div",Ve,[e("div",Oe,[a[19]||(a[19]=e("label",{for:"color"},[e("i",{class:"bi bi-palette"}),f(" Color ")],-1)),x(e("input",{id:"color","onUpdate:modelValue":a[6]||(a[6]=o=>t.value.color=o),placeholder:"Blanco"},null,512),[[F,t.value.color]])]),e("div",Be,[a[20]||(a[20]=e("label",{for:"material"},[e("i",{class:"bi bi-tree"}),f(" Material ")],-1)),x(e("input",{id:"material","onUpdate:modelValue":a[7]||(a[7]=o=>t.value.material=o),placeholder:"Madera"},null,512),[[F,t.value.material]])])]),e("div",Ue,[a[21]||(a[21]=e("label",{for:"dimensions"},[e("i",{class:"bi bi-rulers"}),f(" Dimensiones ")],-1)),x(e("input",{id:"dimensions","onUpdate:modelValue":a[8]||(a[8]=o=>t.value.dimensions=o),placeholder:"120x60x80 cm"},null,512),[[F,t.value.dimensions]])]),e("div",je,[a[22]||(a[22]=e("label",{for:"description"},[e("i",{class:"bi bi-text-paragraph"}),f(" Descripción ")],-1)),x(e("textarea",{id:"description","onUpdate:modelValue":a[9]||(a[9]=o=>t.value.description=o),placeholder:"Describe las características del mueble...",rows:"3"},null,512),[[F,t.value.description]])]),e("div",qe,[a[28]||(a[28]=e("h3",null,[e("i",{class:"bi bi-images"}),f(" Galería de imágenes ")],-1)),e("div",ze,h(t.value.images.length)+" / "+h(O)+" imágenes ",1),e("div",Le,[e("div",{class:"image-drop-area",onDragover:N,onDrop:B(V,["prevent"])},[a[23]||(a[23]=e("i",{class:"bi bi-cloud-upload"},null,-1)),a[24]||(a[24]=e("p",null,"Arrastra y suelta imágenes aquí o",-1)),e("button",{type:"button",class:"browse-text",onClick:a[10]||(a[10]=o=>c.$refs.fileInput.click())}," Selecciona archivos "),e("input",{type:"file",accept:"image/*",multiple:"",ref:"fileInput",class:"hidden-file-input",onChange:w},null,544)],32),t.value.images.length?(d(),m("div",Ge,[(d(!0),m(U,null,j(t.value.images,(o,p)=>(d(),m("div",{key:p,class:"image-item"},[e("div",Pe,[e("img",{src:o,alt:"Imagen del mueble"},null,8,Re),e("div",We,[e("button",{type:"button",class:"btn-icon remove-btn",onClick:I=>b(p)},[...a[25]||(a[25]=[e("i",{class:"bi bi-x-circle"},null,-1)])],8,Je),u.isEditing?T("",!0):(d(),m("button",{key:0,type:"button",class:"btn-icon main-btn",onClick:I=>C(p)},[...a[26]||(a[26]=[e("i",{class:"bi bi-star"},null,-1)])],8,He))])])]))),128))])):T("",!0),n.value.length?(d(),m("div",Ke,[(d(!0),m(U,null,j(n.value,(o,p)=>(d(),m("div",{key:p,class:"error-message"},[a[27]||(a[27]=e("i",{class:"bi bi-exclamation-circle"},null,-1)),f(" "+h(o),1)]))),128))])):T("",!0)])])])])]),e("div",Xe,[e("button",{type:"button",onClick:y,class:"btn-secondary"},[...a[29]||(a[29]=[e("i",{class:"bi bi-x-circle"},null,-1),f(" Cancelar ",-1)])]),e("button",Ye,[a[30]||(a[30]=e("i",{class:"bi bi-check-circle"},null,-1)),f(" "+h(u.isEditing?"Guardar Cambios":"Crear Mueble"),1)])])],32)])])):T("",!0)]),_:1}))}},Ze=G(Qe,[["__scopeId","data-v-c9adc011"]]),ea={class:"modal-card",role:"document"},aa={class:"modal-header"},ta={class:"header-content"},sa={class:"modal-title"},oa={key:0,class:"modal-subtitle"},ia={class:"modal-body"},la={class:"form-grid"},ra={class:"form-group"},na={class:"form-group"},ua={class:"modal-footer"},da={type:"submit",class:"btn btn-primary"},ca={class:"btn-text"},ma={__name:"CategoryFormModal",props:{isOpen:{type:Boolean,default:!1},isEditing:{type:Boolean,default:!1},categoryData:{type:Object,default:()=>({})}},emits:["close","success"],setup(u,{emit:v}){const r=u,E=v,g=k({id:null,name:"",description:""}),t=k([]),n=k(!1);X(()=>r.isOpen,w=>{w&&(r.isEditing&&r.categoryData?g.value=q({},r.categoryData):S(),t.value=[])});function S(){g.value={id:null,name:"",description:""}}function y(){E("close")}function _(){return t.value=[],!g.value.name||!g.value.name.trim()?(t.value.push("El nombre de la categoría es obligatorio"),!1):g.value.name.trim().length<2?(t.value.push("El nombre debe tener al menos 2 caracteres"),!1):!0}function A(){return D(this,null,function*(){var b;if(!_()){$.ToastWarning("Validación",t.value[0]);return}if(n.value)return;n.value=!0;const w={name:g.value.name.trim(),description:((b=g.value.description)==null?void 0:b.trim())||""};try{r.isEditing&&g.value.id?(yield pe(g.value.id,w),$.ToastSuccess("¡Éxito!","Categoría actualizada correctamente")):(yield ve(w),$.ToastSuccess("¡Éxito!","Categoría creada correctamente")),E("success"),y()}catch(C){if(console.error("Error al guardar categoría:",C),C.response&&C.response.status===409)$.ToastWarning("Conflicto","Ya existe una categoría con ese nombre");else if(C.response&&C.response.data){const N=C.response.data.detail||JSON.stringify(C.response.data);$.ToastError("Error",N)}else $.ToastError("Error","No se pudo guardar la categoría")}finally{n.value=!1}})}return(w,b)=>(d(),Y(Z,{name:"modal"},{default:Q(()=>[u.isOpen?(d(),m("div",{key:0,class:"modal-overlay",role:"dialog","aria-modal":"true",onClick:B(y,["self"])},[e("div",ea,[e("form",{onSubmit:B(A,["prevent"]),novalidate:""},[e("header",aa,[e("div",ta,[b[2]||(b[2]=e("div",{class:"icon-wrapper","aria-hidden":"true"},[e("i",{class:"bi bi-folder-plus"})],-1)),e("h2",sa,h(u.isEditing?"Editar categoría":"Crear categoría"),1),u.isEditing?(d(),m("p",oa,"Actualiza los datos de la categoría")):T("",!0)]),e("button",{type:"button",class:"close-btn",onClick:y,"aria-label":"Cerrar formulario"},[...b[3]||(b[3]=[e("i",{class:"bi bi-x-lg","aria-hidden":"true"},null,-1)])])]),e("main",ia,[e("div",la,[e("div",ra,[b[4]||(b[4]=e("label",{for:"category-name"},[f(" Nombre "),e("span",{class:"required","aria-hidden":"true"},"*")],-1)),x(e("input",{id:"category-name","onUpdate:modelValue":b[0]||(b[0]=C=>g.value.name=C),type:"text",placeholder:"Ej: Tecnología, Hogar, etc.",required:"","aria-required":"true"},null,512),[[F,g.value.name]])]),e("div",na,[b[5]||(b[5]=e("label",{for:"category-description"},"Descripción",-1)),x(e("textarea",{id:"category-description","onUpdate:modelValue":b[1]||(b[1]=C=>g.value.description=C),rows:"4",placeholder:"Describe esta categoría (opcional)"},null,512),[[F,g.value.description]])])])]),e("footer",ua,[e("button",{type:"button",class:"btn btn-secondary",onClick:y}," Cancelar "),e("button",da,[e("i",{class:L(["bi",u.isEditing?"bi-check-lg":"bi-plus-lg"]),"aria-hidden":"true"},null,2),e("span",ca,h(u.isEditing?"Guardar cambios":"Crear categoría"),1)])])],32)])])):T("",!0)]),_:1}))}},ga=G(ma,[["__scopeId","data-v-cd55112c"]]),ba={class:"admin-dashboard"},pa={class:"dashboard-content"},va={key:0,class:"loading-container"},fa={key:1,class:"content-wrapper"},ya={class:"actions-bar"},ha={class:"stats-summary"},Ca={class:"stat-item"},$a={class:"categories-section"},ka={key:0,class:"categories-grid"},_a={class:"cat-mid"},Ea={class:"cat-name"},Sa={class:"muted small"},wa={class:"cat-actions"},Ma=["onClick"],xa=["onClick"],Da={key:1,class:"empty-state small"},Fa={key:0,class:"table-container"},Aa={class:"furniture-table"},Ia={"data-label":"Imagen",class:"img-cell"},Ta={class:"img-wrapper"},Na=["src","alt","title"],Va={key:1,class:"no-image",role:"img","aria-label":"Sin imagen disponible"},Oa={"data-label":"Nombre",class:"name-cell"},Ba={"data-label":"Precio",class:"price-cell"},Ua={"data-label":"Categoría"},ja={class:"category-badge"},qa={"data-label":"Stock"},za={"data-label":"Marca"},La={"data-label":"Color"},Ga={"data-label":"Material"},Pa={"data-label":"Dimensiones"},Ra={"data-label":"Acciones",class:"actions-cell"},Wa=["onClick"],Ja=["onClick"],Ha={key:1,class:"empty-state"},Ka={__name:"AdminDashboard",setup(u){const v=ge(),r=k([]),E=k(!1),g=k(""),t=k(!1),n=k(!1),S=H({id:null,name:"",description:"",price:0,category_id:null,images:[],stock:0,brand:"",color:"",material:"",dimensions:""}),y=k([]);k(null);const _=k([]),A=k(!1),w=k(!1),b=H({id:null,name:"",description:""});function C(){return D(this,null,function*(){try{_.value=yield fe()}catch(i){console.error("Error cargando categorías:",i)}})}function N(){localStorage.removeItem("token"),v.push("/login")}function V(){return D(this,null,function*(){E.value=!0;try{const i=yield $.doGet("/furniture/");r.value=i.data}catch(i){g.value="Error al cargar muebles"}finally{E.value=!1}})}function c(){return D(this,null,function*(){n.value=!1,yield C(),Object.assign(S,{id:null,name:"",description:"",price:0,category_id:null,images:[],stock:0,brand:"",color:"",material:"",dimensions:""}),t.value=!0})}function a(i){n.value=!0;const s=i.category_id||i.category&&(i.category.id||i.category);let l=[];i.images&&Array.isArray(i.images)&&i.images.length>0?l=i.images.map(M=>typeof M=="string"?M:M.img_base64||M.url||M).filter(Boolean):i.img_base64&&(l=[i.img_base64]),Object.assign(S,J(q({},i),{category_id:s,images:l})),y.value=[],t.value=!0}function o(){w.value=!1,Object.assign(b,{id:null,name:"",description:""}),A.value=!0}function p(i){w.value=!0,Object.assign(b,{id:i.id,name:i.name,description:i.description||""}),A.value=!0}function I(){return D(this,null,function*(){A.value=!1,yield C(),t.value})}function ee(i){confirm(`¿Eliminar la categoría "${i.name}"?`)&&ae(i.id)}function ae(i){return D(this,null,function*(){try{yield ye(i),$.ToastSuccess("Eliminado","Categoría eliminada correctamente"),C()}catch(s){console.error(s),s.response&&s.response.status===400?$.ToastWarning("No se puede eliminar","La categoría tiene muebles asociados"):$.ToastError("Error","No se pudo eliminar la categoría")}})}function te(){return D(this,null,function*(){t.value=!1,yield V()})}function se(i){return D(this,null,function*(){if(confirm("¿Seguro que deseas eliminar este mueble?"))try{yield $.doDelete(`/furniture/${i}/`),$.ToastSuccess("¡Éxito!","Mueble eliminado correctamente."),V()}catch(s){console.error("Error al eliminar:",s)}})}me(()=>{V(),C()});function oe(i){if(!i&&i!==0)return"-";if(typeof i=="object")return i.name||"-";const s=Number(i),l=_.value.find(M=>Number(M.id)===s);return l?l.name:String(i)}function ie(i){return i==null?"":i===0?"stock-empty":i>0&&i<=5?"stock-low":i>5&&i<=20?"stock-medium":i>20?"stock-high":""}function P(i){if(i.images&&Array.isArray(i.images)&&i.images.length>0){const s=i.images[0];return typeof s=="string"?s:s.img_base64||s.url||null}return i.img_base64?i.img_base64:null}return(i,s)=>(d(),m("div",ba,[e("div",{class:"dashboard-header"},[e("div",{class:"header-content"},[s[3]||(s[3]=e("div",{class:"header-title-section"},[e("i",{class:"bi bi-speedometer2"}),e("div",null,[e("h1",null,"Panel de Administración"),e("p",null,"Gestiona tu inventario de muebles")])],-1)),e("button",{onClick:N,class:"logout-btn"},[...s[2]||(s[2]=[e("i",{class:"bi bi-box-arrow-right"},null,-1),f(" Cerrar sesión ",-1)])])])]),e("div",pa,[E.value?(d(),m("div",va,[...s[4]||(s[4]=[e("div",{class:"spinner"},null,-1),e("p",null,"Cargando muebles...",-1)])])):(d(),m("div",fa,[e("div",ya,[e("div",{class:"actions-left"},[e("button",{onClick:c,class:"btn-primary"},[...s[5]||(s[5]=[e("i",{class:"bi bi-plus-circle"},null,-1),f(" Agregar Mueble ",-1)])]),e("button",{onClick:o,class:"btn-secondary",style:{"margin-left":"0.75rem"}},[...s[6]||(s[6]=[e("i",{class:"bi bi-tags"},null,-1),f(" Nueva Categoría ",-1)])])]),e("div",ha,[e("div",Ca,[s[7]||(s[7]=e("i",{class:"bi bi-box-seam"},null,-1)),e("span",null,h(r.value.length)+" productos",1)])])]),e("div",$a,[s[14]||(s[14]=e("div",{class:"section-header"},[e("h2",null,"Categorías"),e("p",{class:"muted"},"Gestiona las categorías disponibles en el catálogo")],-1)),_.value.length?(d(),m("div",ka,[(d(!0),m(U,null,j(_.value,l=>(d(),m("div",{key:l.id,class:"category-card-mini"},[s[10]||(s[10]=e("div",{class:"cat-left"},[e("div",{class:"icon-area-small"},[e("div",{class:"no-icon-small"},[e("i",{class:"bi bi-tags"})])])],-1)),e("div",_a,[e("strong",Ea,h(l.name),1),e("div",Sa,h(l.description||"-"),1)]),e("div",wa,[e("button",{class:"btn-icon",onClick:M=>p(l)},[...s[8]||(s[8]=[e("i",{class:"bi bi-pencil"},null,-1)])],8,Ma),e("button",{class:"btn-icon btn-delete",onClick:M=>ee(l)},[...s[9]||(s[9]=[e("i",{class:"bi bi-trash"},null,-1)])],8,xa)])]))),128))])):(d(),m("div",Da,[s[11]||(s[11]=e("i",{class:"bi bi-inbox"},null,-1)),s[12]||(s[12]=e("h4",null,"No hay categorías",-1)),s[13]||(s[13]=e("p",null,"Añade categorías para organizar tus muebles",-1)),e("button",{class:"btn-primary",onClick:o},"Crear Categoría")]))]),r.value.length?(d(),m("div",Fa,[e("table",Aa,[s[18]||(s[18]=e("thead",null,[e("tr",null,[e("th",null,"Imagen"),e("th",null,"Nombre"),e("th",null,"Precio"),e("th",null,"Categoría"),e("th",null,"Stock"),e("th",null,"Marca"),e("th",null,"Color"),e("th",null,"Material"),e("th",null,"Dimensiones"),e("th",null,"Acciones")])],-1)),e("tbody",null,[(d(!0),m(U,null,j(r.value,l=>(d(),m("tr",{key:l.id,class:"table-row"},[e("td",Ia,[e("div",Ta,[P(l)?(d(),m("img",{key:0,src:P(l),alt:`Imagen de ${l.name}`,title:`Imagen de ${l.name}`},null,8,Na)):(d(),m("div",Va,[...s[15]||(s[15]=[e("i",{class:"bi bi-image","aria-hidden":"true"},null,-1)])]))])]),e("td",Oa,h(l.name),1),e("td",Ba,"$"+h(l.price.toLocaleString("es-MX")),1),e("td",Ua,[e("span",ja,h(oe(l.category_id||l.category)),1)]),e("td",qa,[e("span",{class:L(["stock-badge",ie(l.stock)])},h(l.stock),3)]),e("td",za,h(l.brand||"-"),1),e("td",La,[e("span",{class:"color-dot",style:be({background:l.color||"#ccc"})},null,4),f(" "+h(l.color||"-"),1)]),e("td",Ga,h(l.material||"-"),1),e("td",Pa,h(l.dimensions||"-"),1),e("td",Ra,[e("button",{onClick:M=>a(l),class:"btn-icon btn-edit",title:"Editar"},[...s[16]||(s[16]=[e("i",{class:"bi bi-pencil"},null,-1)])],8,Wa),e("button",{onClick:M=>se(l.id),class:"btn-icon btn-delete",title:"Eliminar"},[...s[17]||(s[17]=[e("i",{class:"bi bi-trash"},null,-1)])],8,Ja)])]))),128))])])])):(d(),m("div",Ha,[s[20]||(s[20]=e("i",{class:"bi bi-inbox"},null,-1)),s[21]||(s[21]=e("h3",null,"No hay muebles registrados",-1)),s[22]||(s[22]=e("p",null,"Comienza agregando tu primer producto",-1)),e("button",{onClick:c,class:"btn-primary"},[...s[19]||(s[19]=[e("i",{class:"bi bi-plus-circle"},null,-1),f(" Agregar Mueble ",-1)])])]))]))]),K(Ze,{"is-open":t.value,"is-editing":n.value,"furniture-data":S,categories:_.value,onClose:s[0]||(s[0]=l=>t.value=!1),onSuccess:te,onOpenCategoryForm:o},null,8,["is-open","is-editing","furniture-data","categories"]),K(ga,{"is-open":A.value,"is-editing":w.value,"category-data":b,onClose:s[1]||(s[1]=l=>A.value=!1),onSuccess:I},null,8,["is-open","is-editing","category-data"])]))}},tt=G(Ka,[["__scopeId","data-v-be02a893"]]);export{tt as default};
